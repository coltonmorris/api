syntax = "proto2";

package annotations;

option java_package="com.tcn.api.annotations";
option go_package="github.com/tcncloud/api/annotations;annotations";

import "google/protobuf/descriptor.proto";
import "commons/auth/perms.proto";



extend google.protobuf.MethodOptions {
  // add annotations to method options
  optional Permissions authz = 560007;
}

// Permissions - annotation object
message Permissions {
  // A list of permission sets - atleast one set must exist in the list
  // to allow access.
  repeated PermissionSet sets = 1;
  // WIP inject PERMISSION_DEV into the required list
  // don't use it, it will be removed soon
  optional bool wip = 2 [default = false, deprecated = true];
  // Indicate that the method will use no permissions - it will be public.
  // Be careful with this.
  optional bool no_permissions = 3 [default = false];
}

message PermissionSet {
  repeated commons.auth.Permission permissions = 1;
}
